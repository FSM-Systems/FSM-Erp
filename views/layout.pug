// This is the main template that sets up the page requirements
// jQuery boostrap etc 

doctype html
html(lang="en")
	head
		meta(charset="utf-8")
		meta(http-equiv="X-UA-Compatible" content="IE=edge")
		meta(name="viewport" content="width=device-width, initial-scale=1")
		meta(name="author" content="fsm.co.tz")
		
		title= title
		
		// Link external libraries (jquery/nprogress etc etc)
		include external_libraries.pug
	body
		block content
			
		// Boostrap JS
		script(type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous")
		
		// NProgress ajax jQuery
		script.
			$(document).ready(function() {
				$(document).ajaxStart(function(){
					NProgress.start()
				});
				
				$(document).ajaxStop(function(){
					NProgress.done()
				});
				
				// - Initialize Datepickers
				$(document).on("focus", ".datepicker", function () {
					$(this).datepicker({dateFormat: "dd/mm/yy"});
				});
				
				// - Initialize tooltips
				$('body').tooltip({
					selector: '.mainmenulink, .btn, .logo, th, input',
					container: 'body',
					//'delay': { show: 0, hide: 100 }, // Delay showing tooltip as it can be annoying..
					trigger: 'hover',
				}); 
				
				// resizeable handle for divnewitem
				/*$("#divnewitem").resizable({
					handles: "n",				
				});*/
			})
			
		// - jQuery scripts
		// - Include the database scripts to updat/insert/delete
		include dbscripts.pug
		
		// - include the page that contains all button handlers.
		include button_handlers.pug